<!DOCTYPE html>
<html lang="id" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Input Jadwal Motret</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://ghazabegins.cyou/tj/logo.PNG" type="image/png">

    <style>
        /* --- 1. TEMA WARNA (DARK/LIGHT) --- */
        :root {
            --bg-color: #f4f7f6;
            --text-color: #333;
            --card-bg: #ffffff;
            --input-bg: #fcfcfc;
            --input-border: #e1e1e1;
            --accent: #11998e;
            --accent-grad: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --modal-bg: #ffffff;
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --card-bg: #1e1e1e;
            --input-bg: #2d2d2d;
            --input-border: #444;
            --accent: #38ef7d;
            --accent-grad: linear-gradient(135deg, #0e8278 0%, #2ecc71 100%);
            --modal-bg: #2c2c2c;
        }

        /* --- 2. BASE STYLES --- */
        * { box-sizing: border-box; margin: 0; padding: 0; transition: background 0.3s, color 0.3s, border 0.3s; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--bg-color); color: var(--text-color); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; position: relative; }

        /* --- 3. TOMBOL SWITCH (POJOK KANAN ATAS) --- */
        .top-bar { position: absolute; top: 20px; right: 20px; display: flex; align-items: center; gap: 10px; font-size: 0.8rem; font-weight: 600; z-index: 10; }
        .theme-switch { display: inline-block; height: 28px; position: relative; width: 50px; }
        .theme-switch input { display:none; }
        .slider { background-color: #ccc; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; border-radius: 34px; }
        .slider:before { background-color: white; bottom: 4px; content: ""; height: 20px; left: 4px; position: absolute; transition: .4s; width: 20px; border-radius: 50%; }
        input:checked + .slider { background-color: var(--accent); }
        input:checked + .slider:before { transform: translateX(22px); }

        /* CARD & FORM */
        .card { background: var(--card-bg); border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); width: 100%; max-width: 600px; overflow: hidden; position: relative; }
        .card-header { background: var(--accent-grad); padding: 25px; text-align: center; color: white; }
        .card-header h2 { margin: 0; font-size: 1.5rem; font-weight: 600; }
        .card-header p { font-size: 0.9rem; opacity: 0.9; margin-top: 5px; }
        .card-body { padding: 30px; }
        
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-size: 0.85rem; font-weight: 600; color: var(--text-color); opacity: 0.8; text-transform: uppercase; }
        
        input[type="text"], input[type="date"], select { 
            width: 100%; padding: 14px; 
            border: 2px solid var(--input-border); 
            border-radius: 10px; font-size: 1rem; font-family: 'Poppins', sans-serif; 
            background-color: var(--input-bg); color: var(--text-color);
        }
        input:focus, select:focus { border-color: var(--accent); outline: none; }
        input[readonly] { background-color: rgba(0,0,0,0.05); color: #888; }

        /* Time Picker */
        .time-picker-container { display: flex; align-items: center; gap: 10px; background: var(--input-bg); padding: 10px; border: 2px solid var(--input-border); border-radius: 10px; }
        .time-box { flex: 1; text-align: center; }
        .time-box span { display: block; font-size: 0.7rem; color: var(--text-color); opacity: 0.6; margin-bottom: 5px; }
        input[type="time"] { width: 100%; padding: 5px; border: 1px solid var(--input-border); border-radius: 6px; font-size: 1.1rem; text-align: center; font-weight: bold; background: var(--card-bg); color: var(--text-color); }
        .separator { font-weight: bold; color: var(--accent); }

        .btn-submit { display: block; width: 100%; padding: 16px; background: var(--accent); color: white; border: none; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-top: 25px; }
        .nav-link { text-align: center; margin-top: 20px; display: block; text-decoration: none; color: var(--accent); font-weight: 600; font-size: 0.9rem; }

        /* MODAL */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px); z-index: 1000; display: none; justify-content: center; align-items: center; padding: 20px; }
        .modal-card { background: var(--modal-bg); width: 100%; max-width: 350px; border-radius: 20px; padding: 30px 25px; text-align: center; box-shadow: 0 15px 40px rgba(0,0,0,0.3); }
        .success-icon { width: 80px; height: 80px; background: rgba(17, 153, 142, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; color: var(--accent); font-size: 40px; }
        .modal-card h3 { color: var(--text-color); margin-bottom: 5px; font-size: 1.4rem; }
        
        .detail-list { background: rgba(0,0,0,0.03); border-radius: 12px; padding: 15px; text-align: left; margin: 20px 0; border: 1px dashed var(--input-border); }
        .detail-item { display: flex; margin-bottom: 10px; font-size: 0.9rem; color: var(--text-color); }
        .detail-label { width: 70px; opacity: 0.7; font-weight: 500; }
        .detail-value { flex: 1; font-weight: 600; }
        
        .btn-close { background: var(--text-color); color: var(--card-bg); width: 100%; padding: 12px; border: none; border-radius: 10px; font-size: 1rem; cursor: pointer; font-weight: 600; }
        .modal-overlay.active { display: flex; }
    </style>
</head>
<body>

    <div class="top-bar">
        <span>Mode Gelap</span>
        <label class="theme-switch">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
        </label>
        <a href="index.html" style="text-decoration:none; color:var(--text-color); margin-left:10px;">üè† Home</a>
    </div>

<div class="card">
    <div class="card-header">
        <h2>Input Jadwal</h2>
        <p>Isi data pertandingan terbaru</p>
    </div>
    
    <div class="card-body">
        <form name="submit-to-google-sheet">
            <input type="hidden" name="action" value="create"> 

            <div class="form-group">
                <label>Tanggal</label>
                <input type="date" id="tanggal" name="Tanggal" required>
            </div>
            
            <div class="form-group">
                <label>Hari</label>
                <input type="text" id="hari" name="Hari" readonly placeholder="Otomatis..." tabindex="-1">
            </div>

            <div class="form-group">
                <label>Waktu Main</label>
                <div class="time-picker-container">
                    <div class="time-box">
                        <span>Kickoff</span>
                        <input type="time" id="pick_mulai" required>
                    </div>
                    <div class="separator">‚ûú</div>
                    <div class="time-box">
                        <span>Selesai</span>
                        <input type="time" id="pick_selesai" required>
                    </div>
                </div>
                <input type="hidden" id="waktu_final" name="Waktu">
                <small style="color: var(--accent); font-size: 0.8rem; margin-top: 5px; display: block;">*Otomatis +2 Jam</small>
            </div>

            <div class="form-group">
                <label>Match (Tim)</label>
                <input type="text" id="tim" name="Tim" placeholder="Cth: KONCET FC" required autocomplete="off">
            </div>

            <div class="form-group">
                <label>Venue</label>
                <select id="venue" name="Venue" required>
                    <option value="" disabled selected>Pilih Lokasi...</option>
            <option>SANOBAR MINISOCCER</option>
            <option>AW MINISOCCER</option>
            <option>ZATAN MINISOCCER</option>
            <option>MEDAN MINISOCCER</option>
            <option>HM MINISOCCER</option>
            <option>PREMIER MINISOCCER</option>
            <option>GAMA SPORT CENTER</option>
            <option>GAMA MINISOCCER</option>
            <option>THE GREEN MINISOCCER</option>
            <option>BINTANG MINISOCCER</option>
            <option>FFA MINISOCCER</option>
            <option>PRIMA MINISOCCER</option>
            <option>JOHOR MINISOCCER</option>
            <option>ATLAS MINISOCCER</option>
            <option>ACHILESS MINISOCCER</option>
            <option>SO POINT MINISOCCER</option>
            <option>LEON MINISOCCER</option>
            <option>LAPANGAN BESAR</option>
            <option>PADEL</option>
            <option>BADMINTON</option>
                </select>
            </div>

            <button type="submit" class="btn-submit">Simpan Jadwal</button>
            <a href="kelola_jadwal.html" class="nav-link">Lihat Laporan / Data &rarr;</a>
        </form>
    </div>
</div>

<div class="modal-overlay" id="modalSuccess">
    <div class="modal-card">
        <div class="success-icon">‚úì</div>
        <h3>Berhasil Disimpan!</h3>
        <div class="detail-list">
            <div class="detail-item"><span class="detail-label">Tgl:</span><span class="detail-value" id="res_tanggal">-</span></div>
            <div class="detail-item"><span class="detail-label">Jam:</span><span class="detail-value" id="res_waktu">-</span></div>
            <div class="detail-item"><span class="detail-label">Tim:</span><span class="detail-value" id="res_tim">-</span></div>
            <div class="detail-item"><span class="detail-label">Loc:</span><span class="detail-value" id="res_venue">-</span></div>
        </div>
        <button class="btn-close" onclick="tutupModal()">Oke, Lanjut!</button>
    </div>
</div>

<script>
    // --- GANTI URL DI SINI ---
    const scriptURL = 'GANTI URL DI SINI';
    
    // --- LOGIKA DARK MODE ---
    const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme) {
        document.documentElement.setAttribute('data-theme', currentTheme);
        if (currentTheme === 'dark') toggleSwitch.checked = true;
    }
    toggleSwitch.addEventListener('change', function(e) {
        if (e.target.checked) {
            document.documentElement.setAttribute('data-theme', 'dark');
            localStorage.setItem('theme', 'dark');
        } else {
            document.documentElement.setAttribute('data-theme', 'light');
            localStorage.setItem('theme', 'light');
        }
    });
    // ----------------------

    const form = document.forms['submit-to-google-sheet'];
    const btnKirim = document.querySelector('.btn-submit');
    const modal = document.getElementById('modalSuccess');
    const pickMulai = document.getElementById('pick_mulai');
    const pickSelesai = document.getElementById('pick_selesai');
    const inputRahasia = document.getElementById('waktu_final');
    const tanggalInput = document.getElementById('tanggal');
    const hariInput = document.getElementById('hari');

    function updateWaktuFinal() {
        if(pickMulai.value && pickSelesai.value) {
            inputRahasia.value = `${pickMulai.value} - ${pickSelesai.value} WIB`;
        }
    }
    pickMulai.addEventListener('change', function() {
        if(this.value) {
            let [jam, menit] = this.value.split(':').map(Number);
            let jamSelesai = jam + 2;
            if (jamSelesai >= 24) jamSelesai -= 24;
            let strJam = jamSelesai.toString().padStart(2, '0');
            let strMenit = menit.toString().padStart(2, '0');
            pickSelesai.value = `${strJam}:${strMenit}`;
            updateWaktuFinal();
        }
    });
    pickSelesai.addEventListener('change', updateWaktuFinal);

    const namaHari = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
    tanggalInput.addEventListener('change', function() {
        const d = new Date(this.value);
        if (!isNaN(d)) { hariInput.value = namaHari[d.getDay()]; }
    });

    function tampilkanModal() {
        document.getElementById('res_tanggal').innerText = `${hariInput.value}, ${tanggalInput.value}`;
        document.getElementById('res_waktu').innerText = inputRahasia.value;
        document.getElementById('res_tim').innerText = document.getElementById('tim').value;
        document.getElementById('res_venue').innerText = document.getElementById('venue').value;
        modal.classList.add('active');
        form.reset();
        hariInput.value = ""; 
    }
    function tutupModal() { modal.classList.remove('active'); }

    form.addEventListener('submit', e => {
        e.preventDefault();
        if (!inputRahasia.value) { alert("Pastikan waktu sudah terisi!"); return; }
        btnKirim.innerHTML = "‚è≥ Sedang Mengirim...";
        btnKirim.disabled = true;

        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => response.json())
            .then(data => {
                btnKirim.innerHTML = "Simpan Jadwal";
                btnKirim.disabled = false;
                if(data.result === 'success') { tampilkanModal(); } 
                else { alert("Gagal menyimpan: " + data.message); }
            })
            .catch(error => {
                alert("Terjadi kesalahan koneksi!");
                btnKirim.innerHTML = "Simpan Jadwal";
                btnKirim.disabled = false;
            });
    });
</script>

</body>

</html>
